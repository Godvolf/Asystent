(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(t,e,n){},44:function(t,e,n){},46:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var a=n(2),i=n.n(a),s=n(15),c=n.n(s),o=(n(21),n(5)),r=n(16),d=n.n(r),u=n(3),m=n.n(u),p=(n(44),n(0));function l(){var t=Object(a.useState)({token:void 0,user_id:void 0}),e=Object(o.a)(t,2),n=e[0],i=e[1],s=Object(a.useState)([{text:"Po\u0142\u0105czy\u0142e\u015b si\u0119 z Asystentem \u017bywieniowym",timestamp:1578366389250,type:"notification"}]),c=Object(o.a)(s,2),r=c[0],u=c[1],l=function(t){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"card-title",children:t.title_id}),Object(p.jsx)("div",{className:"card-desc",children:t.description}),Object(p.jsxs)("div",{className:"card-link",children:["Recipe: ",Object(p.jsx)("a",{href:t.link,children:t.link})]}),Object(p.jsx)("img",{src:t.img,alt:t.title_id})]})};Object(a.useEffect)((function(){m.a.post("https://foodasistant.ml/auth",{},{header:"Content-Type: application/json"}).then((function(t){i(t.data)}))}),[]),Object(a.useEffect)((function(){if(n.token){var t={headers:{Authorization:"Bearer "+n.token,"Content-Type":"application/json"}};m.a.post("https://foodasistant.ml/add_event",{type:"message",body:{message:"init request"}},t).then((function(t){u((function(e){return e.concat({author:{username:"Digital Assistant",id:2,avatarUrl:"https://image.flaticon.com/icons/svg/2446/2446032.svg"},text:t.data[0].body.message,type:"text",timestamp:+new Date})}))}))}}),[n]);return Object(p.jsx)("div",{className:"main-container",children:Object(p.jsx)("div",{className:"chatbox-container",children:Object(p.jsx)(d.a,{messages:r,userId:1,onSendMessage:function(t){if(u((function(e){return e.concat({author:{username:"User",id:1},text:t,timestamp:+new Date,type:"text"})})),n.token){var e={headers:{Authorization:"Bearer "+n.token,"Content-Type":"application/json"}},a={type:"message",body:{message:t}};m.a.post("https://foodasistant.ml/add_event",a,e).then((function(t){"message"===t.data[0].type?function(t){u((function(e){return e.concat({author:{username:"Digital Assistant",id:2,avatarUrl:"https://image.flaticon.com/icons/svg/2446/2446032.svg"},text:t.data[0].body.message,type:"text",timestamp:+new Date})}))}(t):"card"===t.data[0].type&&function(t){u((function(e){return e.concat({author:{username:"Digital Assistant",id:2,avatarUrl:"https://image.flaticon.com/icons/svg/2446/2446032.svg"},text:l(t.data[0].body),type:"text",timestamp:+new Date})}))}(t)}))}},width:"800px",height:"89vh"})})})}n(46);var h=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(l,{})})},f=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),a(t),i(t),s(t),c(t)}))};c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(h,{})}),document.getElementById("root")),f()}},[[48,1,2]]]);
//# sourceMappingURL=main.321bd313.chunk.js.map